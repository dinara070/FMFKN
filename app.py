import streamlit as st
import sqlite3
import pandas as pd
import hashlib
from datetime import datetime
import io
import altair as alt
import re  # –î–ª—è –ª–æ–≥—ñ–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤

# --- –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø –°–¢–û–†–Ü–ù–ö–ò ---
st.set_page_config(page_title="LMS –§–ú–§–ö–ù - –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—è", layout="wide", page_icon="üéì")

# --- –õ–û–ì–Ü–ö–ê –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø –¢–ï–ú–ò ---
if 'theme' not in st.session_state:
    st.session_state.theme = 'light'

def toggle_theme():
    if st.session_state.theme == 'light':
        st.session_state.theme = 'dark'
    else:
        st.session_state.theme = 'light'

# --- CSS –°–¢–ò–õ–Ü ---
dark_css = """
<style>
    .stApp { background-color: #0E1117; color: #FFFFFF; }
    [data-testid="stSidebar"] { background-color: #262730; }
    h1, h2, h3, h4, h5, h6, p, li, span, label, .stMarkdown { color: #FFFFFF !important; }
    .stTextInput > div > div, .stSelectbox > div > div, .stTextArea > div > div, .stDateInput > div > div, .stNumberInput > div > div {
        background-color: #41444C !important; color: #FFFFFF !important;
    }
    input, textarea { color: #FFFFFF !important; }
    [data-testid="stDataFrame"], [data-testid="stTable"] { color: #FFFFFF !important; }
    .streamlit-expanderHeader { background-color: #262730 !important; color: #FFFFFF !important; }
    button { color: #FFFFFF !important; }
</style>
"""

light_css = """
<style>
    .stApp { background-color: #FFFFFF; color: #000000; }
    [data-testid="stSidebar"] { background-color: #F0F2F6; }
    h1, h2, h3, h4, h5, h6, p, li, span, label, .stMarkdown { color: #000000 !important; }
    .stTextInput > div > div, .stSelectbox > div > div, .stTextArea > div > div, .stDateInput > div > div, .stNumberInput > div > div {
        background-color: #FFFFFF !important; color: #000000 !important; border: 1px solid #D3D3D3;
    }
    input, textarea { color: #000000 !important; }
    [data-testid="stDataFrame"], [data-testid="stTable"] { color: #000000 !important; }
    .streamlit-expanderHeader { background-color: #F0F2F6 !important; color: #000000 !important; }
    button { color: #000000 !important; }
</style>
"""

if st.session_state.theme == 'dark':
    st.markdown(dark_css, unsafe_allow_html=True)
else:
    st.markdown(light_css, unsafe_allow_html=True)


# --- –ö–û–ù–°–¢–ê–ù–¢–ò –¢–ê –ü–†–ê–í–ê –î–û–°–¢–£–ü–£ ---
# –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π –¥–ª—è –ª–æ–≥—ñ–∫–∏ —Å–∏—Å—Ç–µ–º–∏, —Ö–æ—á–∞ —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –∑–º–æ–∂—É—Ç—å –Ω–µ –≤—Å—ñ
ROLES_LIST = ["student", "starosta", "teacher", "methodist", "dean", "admin"]
TEACHER_LEVEL = ['teacher', 'methodist', 'dean', 'admin']
DEAN_LEVEL = ['methodist', 'dean', 'admin']

# --- –°–ü–ò–°–û–ö –ü–†–ï–î–ú–ï–¢–Ü–í ---
SUBJECTS_LIST = [
    "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑", "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–ê–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—è", "–î–∏—Å–∫—Ä–µ—Ç–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞", 
    "–§—ñ–∑–∏–∫–∞", "–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞", "–§—ñ–ª–æ—Å–æ—Ñ—ñ—è", "–ß–∏—Å–ª–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏", "–ï–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞", 
    "–®–∫—ñ–ª—å–Ω–∏–π –∫—É—Ä—Å –∞–ª–≥–µ–±—Ä–∏", "–®–∫—ñ–ª—å–Ω–∏–π –∫—É—Ä—Å –≥–µ–æ–º–µ—Ç—Ä—ñ—ó", "–û—Å–Ω–æ–≤–∏ –∞–ª–≥–µ–±—Ä–∏ —ñ –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ—ó –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", 
    "–õ—ñ–Ω—ñ–π–Ω–∞ –∞–ª–≥–µ–±—Ä–∞ —ñ –¥–∏—Å–∫—Ä–µ—Ç–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞", "–í—Å—Ç—É–ø –¥–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—Å—Ç—ñ", "–û—Å–Ω–æ–≤–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —ñ –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö", 
    "–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ —Ñ—ñ–∑–∏–∫–∞", "–ê–ª–≥–µ–±—Ä–∞ —ñ —Ç–µ–æ—Ä—ñ—è —á–∏—Å–µ–ª", "–ó–∞–≥–∞–ª—å–Ω–∞ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è", "–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞", 
    "–û—Å–Ω–æ–≤–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ —Ç–∞ –æ–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–ó–∞–≥–∞–ª—å–Ω–∞ —Ñ—ñ–∑–∏–∫–∞", 
    "–ú–µ—Ç–æ–¥–∏–∫–∞ –≤–∏—Ö–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏", "–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ—ñ–∑–∏–∫–∏ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏", "–°–∏—Å—Ç–µ–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö", 
    "–î–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è", "–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑", "–ë–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ —Å–∏—Å—Ç–µ–º–∏", 
    "–ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏", "–ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö", 
    "–û—Å–Ω–æ–≤–∏ –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω–æ—ó –º–∞–π—Å—Ç–µ—Ä–Ω–æ—Å—Ç—ñ", "–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —Ñ—ñ–∑–∏–∫–∞", "–Ü–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è —ñ –≤–∞—Ä—ñ–∞—Ü—ñ–π–Ω–µ —á–∏—Å–ª–µ–Ω–Ω—è", 
    "–ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ—ñ–∑–∏–∫–∏", "–ú–µ—Ç–æ–¥–∏ –æ–±—á–∏—Å–ª–µ–Ω—å", "–¢–µ–æ—Ä—ñ—è —ñ –º–µ—Ç–æ–¥–∏–∫–∞ –ø–æ–≥–ª–∏–±–ª–µ–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è —Å—Ç–µ—Ä–µ–æ–º–µ—Ç—Ä—ñ—ó", 
    "–§—ñ–∑–∏–∫–∞ —Ç–∞ –º–µ—Ç–æ–¥–∏–∫–∞ —ó—ó –Ω–∞–≤—á–∞–Ω–Ω—è —É –ª—ñ—Ü–µ—è—Ö", "–°–∏—Å—Ç–µ–º–∏ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–æ—ó –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", 
    "–¢–µ–æ—Ä—ñ—è —ñ –ø—Ä–∞–∫—Ç–∏–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–ª—ñ–º–ø—ñ–∞–¥", "–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–æ–∑–¥—ñ–ª–∏ –≥–µ–æ–º–µ—Ç—Ä—ñ—ó", "–ü–µ–¥–∞–≥–æ–≥—ñ–∫–∞ —ñ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è –≤–∏—â–æ—ó —à–∫–æ–ª–∏", 
    "–ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è —Ç–∞ —Ü–∏—Ñ—Ä–æ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –Ω–∞—É–∫–æ–≤–∏—Ö –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å —É –º–∞—Ç–µ–º–∞—Ç–∏—Ü—ñ", "–ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è –≤ –æ—Å–≤—ñ—Ç—ñ", 
    "–í–∏–±—Ä–∞–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–æ—ó –¥–∏–¥–∞–∫—Ç–∏–∫–∏ —Ñ—ñ–∑–∏–∫–∏", "–ü–µ–¥–∞–≥–æ–≥—ñ–∫–∞ —ñ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è –ø—Ä–æ—Ñ—ñ–ª—å–Ω–æ—ó —Å–µ—Ä–µ–¥–Ω—å–æ—ó –æ—Å–≤—ñ—Ç–∏", 
    "–í–∏–±—Ä–∞–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –≤–∏—â–æ—ó –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–¢–µ–æ—Ä—ñ—è —ñ –º–µ—Ç–æ–¥–∏–∫–∞ –ø–æ–≥–ª–∏–±–ª–µ–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è –∞–ª–≥–µ–±—Ä–∏ —ñ –ø–æ—á–∞—Ç–∫—ñ–≤ –∞–Ω–∞–ª—ñ–∑—É", 
    "–ê—Å—Ç—Ä–æ—Ñ—ñ–∑–∏–∫–∞", "–¶–∏–≤—ñ–ª—å–Ω–∏–π –∑–∞—Ö–∏—Å—Ç", "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –º–æ–¥–µ–ª—ñ —ñ –º–æ–¥–µ–ª—ñ –≤ –æ—Å–≤—ñ—Ç—ñ/–ø–µ–¥–∞–≥–æ–≥—ñ—Ü—ñ", 
    "–ü—Ä–∞–∫—Ç–∏–∫—É–º –∑ —Ñ—ñ–∑–∏—á–Ω–æ–≥–æ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É", "–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –æ–±—Ä–æ–±–∫–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö", 
    "–û—Å–Ω–æ–≤–∏ —Ç–µ–æ—Ä—ñ—ó —Å–æ–ª—ñ—Ç–æ–Ω—ñ–≤", "–ô–º–æ–≤—ñ—Ä–Ω—ñ—Å–Ω–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å", "–û—Å–Ω–æ–≤–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è", 
    "–û—Å–Ω–æ–≤–∏ —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É", "–ó–∞–≥–∞–ª—å–Ω–∞ —Ñ—ñ–∑–∏–∫–∞. –û–ø—Ç–∏–∫–∞", "–ü—Ä–∞–∫—Ç–∏–∫—É–º —Ä–æ–∑–≤'—è–∑—É–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á –∑ –æ–ø—Ç–∏–∫–∏", 
    "–ü—Ä–∞–∫—Ç–∏–∫—É–º —Ä–æ–∑–≤'—è–∑—É–≤–∞–Ω–Ω—è –æ–ª—ñ–º–ø—ñ–∞–¥–Ω–∏—Ö –∑–∞–¥–∞—á –∑ –∞–ª–≥–µ–±—Ä–∏", "–û—Å–Ω–æ–≤–∏ —Ç–µ–æ—Ä—ñ—ó —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏—Ö —Å–∏—Å—Ç–µ–º"
]

# --- –î–ê–ù–Ü (–°—Ç—É–¥–µ–Ω—Ç–∏) ---
GROUPS_DATA = {
    "1–°–û–ú": ["–ê–ª–µ–∫—Å—î—î–Ω–∫–æ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ì–∞–π–¥–∞–π –ê–Ω–∞—Ç–æ–ª—ñ–π –û–ª–µ–≥–æ–≤–∏—á", "–ñ—É—Ä–±–µ–ª—é–∫ –ü–∞–≤–ª—ñ–Ω–∞ –ü–∞–≤–ª—ñ–≤–Ω–∞", "–ó–∞—Ä—É–¥–Ω—è–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–Ω–∏—à –î–µ–Ω–∏—Å –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ö—Ä–∞–ø–ª—è –õ—ñ–ª—ñ—è –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞", "–õ–æ–≥–∞—à–∫—ñ–Ω –î–µ–Ω–∏—Å –í–ª–∞–¥–∏—Å–ª–∞–≤–æ–≤–∏—á", "–ú–∞–∑—É—Ä –í–µ—Ä–æ–Ω—ñ–∫–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ú–µ–ª—å–Ω–∏–∫ –ë–æ–≥–¥–∞–Ω –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ü–µ—Ä–≤–∏–π –ê–Ω–¥—Ä—ñ–π –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–°—É–ª–∏–º–∞ –î–∞—Ä–∏–Ω–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–¢–∏–º–æ—à–µ–Ω–∫–æ –ú–∞—Ä—ñ—è –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–®–∞–ø–µ–ª—å—Å—å–∫–∞ –ö–∞—Ç–µ—Ä–∏–Ω–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–®–µ–≤—á—É–∫ –ú–∞—Ä—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞"],
    "1–°–û–Ü": ["–õ–∏—Å–µ–Ω–∫–æ –¢–∏–º–æ—Ñ—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–õ—ñ–≤–∏–π –ü–∞–≤–ª–æ –í–ª–∞–¥–∏—Å–ª–∞–≤–æ–≤–∏—á", "–ú—É—Ä–µ–Ω–∫–æ –°—Ç–µ–ø–∞–Ω –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "–ü–æ—Å–ø–µ–ª–æ–≤ –ù–∞–∑–∞—Ä –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "–†–∏–±—á—É–∫ –ê–Ω–¥—Ä—ñ–π –û–ª–µ–≥–æ–≤–∏—á", "–¢–æ–º–∞—à–µ–≤—Å—å–∫–∏–π –ê—Ä—Ç–µ–º –í–∞—Å–∏–ª—å–æ–≤–∏—á"],
    "1–ú": ["–ë–∞—Å–∞—Ä–∞–±–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –Ü–≥–æ—Ä–æ–≤–∏—á", "–ë–æ–Ω–¥–∞—Ä –í–ª–∞–¥–∏—Å–ª–∞–≤ –í–∞—Å–∏–ª—å–∫–æ–≤–∏—á", "–î–∞–Ω—å–∫–æ–≤—Å—å–∫–∏–π –ù—ñ–∫—ñ—Ç–∞ –ì–ª—ñ–±–æ–≤–∏—á", "–ö–æ–∫–∞—Ä—î–≤–∞ –í—ñ–∫—Ç–æ—Ä—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°—É–ª–∏–º–∞ –ú–∞—Ä–≥–∞—Ä—ñ—Ç–∞ –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–¢–∏—à–∫—ñ–Ω–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –ü–∞–≤–ª—ñ–≤–Ω–∞"],
    "1–°–û–§–ê": ["–ì–µ–Ω—Å—ñ—Ü—å–∫–∞ –ê–ª—ñ–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ö—É—Ä—ñ–ª—å—á–µ–Ω–∫–æ –ö—ñ—Ä–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–ú–µ—Ü–≥–µ—Ä –ö–∞—Ç–µ—Ä–∏–Ω–∞ –í–∞–ª–µ—Ä—ñ—ó–≤–Ω–∞", "–ß–µ—Ä–Ω–µ—Ü—å–∫–∞ –ù–∞—Ç–∞–ª—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–®–≤–µ–¥—É–Ω –í–∞–ª–µ—Ä—ñ–π –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á"],
    "2–°–û–ú": ["–ê–¥–∞–º–ª—é–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –†–æ–º–∞–Ω–æ–≤–∏—á", "–ë–∏—á–∫–æ –î–∞—Ä'—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ë—É–≥—Ä–æ–≤–∞ –Æ–ª—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ë—É—Ä–µ–π–∫–æ –í–æ–ª–æ–¥–∏–º–∏—Ä –û–º–µ–ª—è–Ω–æ–≤–∏—á", "–ì–æ–Ω—á–∞—Ä—É–∫ –ê–Ω–≥–µ–ª—ñ–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ì—Ä—ñ—â–µ–Ω–∫–æ –°–≤—ñ—Ç–ª–∞–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–ì—É–Ω—å–∫–æ –Ü–≤–∞–Ω –†–æ–º–∞–Ω–æ–≤–∏—á", "–î–æ—Ä–æ—à –†—É—Å–ª–∞–Ω –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–ñ—É—Ä–∞–≤–µ–ª—å –ê–ª—å–æ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–ó—ñ–Ω—á–µ–Ω–∫–æ –ú–∞–∫—Å–∏–º –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–ö–∞–ª—ñ–Ω—ñ–Ω –Ñ–≤–≥–µ–Ω –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ö–∏—Å—ñ–ª—å –Ø–Ω–∞ –Æ—Ä—ñ—ó–≤–Ω–∞", "–ö–∏—Ü—è –Ø—Ä–æ—Å–ª–∞–≤ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "–ö—Ä–∞–≤—á—É–∫ –Æ–ª—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ú–∞—Ä—Ç–∏–Ω—é–∫ –î—ñ–∞–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ù–∞–∑–∞—Ä—É–∫ –î—ñ–∞–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", "–ü–∞—Å—ñ—á–Ω–∏–∫ –°–æ—Ñ—ñ—è –ù–∞–∑–∞—Ä—ñ–≤–Ω–∞", "–ü—É—Å—Ç–æ–≤—ñ—Ç –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–ü—É—á–∫–æ–≤–∞ –í–∞–ª–µ—Ä—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–°–∏—á—É–∫ –ê–Ω–≥–µ–ª—ñ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°–ª–æ–±–æ–¥—è–Ω—é–∫ –í—ñ–∫—Ç–æ—Ä—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–°—Ç–∞—Å—å–∫–æ–≤–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞", "–•–∞—Ä–∫–µ–≤–∏—á –†—É—Å–ª–∞–Ω –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ß–µ—Ä–µ—à–Ω—è –°—Ç–∞–Ω—ñ—Å–ª–∞–≤ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ß–æ—Ä–Ω–∞ –Ñ–ª–∏–∑–∞–≤–µ—Ç–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞"],
    "2–°–û–§–ê": ["–ú–∏–∫–æ–ª–∞–π—á—É–∫ –ú–∞–∫—Å–∏–º –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–§—É—Ä—Å—ñ–∫ –ú–∞—Ä—ñ—è –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞"],
    "2–°–û–Ü": ["–ê–¥–∞–º–æ–≤ –í–ª–∞–¥–∏—Å–ª–∞–≤ –í–∏—Ç–∞–ª—ñ–π–æ–≤–∏—á", "–í–µ–∫—à–∏–Ω –Ü–≥–æ—Ä –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–î—ñ–¥–µ–Ω–∫–æ –ê—Ä—Ç–µ–º –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö–∏—Ä–∏–ª—é–∫ –Ø—Ä–æ—Å–ª–∞–≤ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö—É–∑–æ–≤–ª—î–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ù–æ–≤–∞–∫ –õ—ñ–ª—ñ—è –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", "–û—Å—Ç–∞–ø–æ–≤ –ê–Ω—Ç–æ–Ω –Æ—Ä—ñ–π–æ–≤–∏—á", "–¢–∞—Ä–∞–Ω—é–∫ –°—Ç–µ–ø–∞–Ω –Ñ–≤–≥–µ–Ω—ñ–π–æ–≤–∏—á", "–®–∏–ª–æ –ì–ª—ñ–± –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–®–ø–∞–∫ –î–∞—Ä'—è –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞"],
    "2–ú": ["–ë–ª–æ–Ω—Å—å–∫–∏–π –í–ª–∞–¥–∏—Å–ª–∞–≤ –Ø—Ä–æ—Å–ª–∞–≤–æ–≤–∏—á", "–ë–æ–Ω–¥–∞—Ä –ù–∞—Ç–∞–ª—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ì–æ–ª–æ–≤–∞—Ç–∞ –í–∞–ª–µ—Ä—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ì—Ä–∞–∂–¥–∞–Ω –¢—ñ–º—É—Ä –ö–æ—Å—Ç—è–Ω—Ç–∏–Ω–æ–≤–∏—á", "–ì—É—Ü–æ–ª –ê–ª—å–æ–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–õ–µ–≤–µ–Ω–µ—Ü—å –í–ª–∞–¥–∏—Å–ª–∞–≤–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–õ–µ–≤—á–µ–Ω–∫–æ –ê–Ω–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ú–∏–∫–æ–ª–∞—î–Ω–∫–æ –î–º–∏—Ç—Ä–æ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–°–µ–º–µ–Ω—é–∫ –ê–Ω–≥–µ–ª—ñ–Ω–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–Ø—Ü—é–∫ –í—ñ–∫—Ç–æ—Ä—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞"],
    "3–°–û–ú": ["–í–∏–Ω–∞—Ä—á–∏–∫ –°–æ—Ñ—ñ—è –°—Ç–µ–ø–∞–Ω—ñ–≤–Ω–∞", "–í–æ–ª–∏–Ω—Å—å–∫–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–ª–∞–Ω—Ü–∞—Ç–∏–π –ö–æ—Å—Ç—è–Ω—Ç–∏–Ω –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö—Ä–∞–º–∞—Ä –ê–Ω–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö—É–∑—å–º–µ–Ω–∫–æ –ö–∞—Ä–∏–Ω–∞ –õ–µ–æ–Ω—ñ–¥—ñ–≤–Ω–∞", "–õ–∏—Å–∞–∫–æ–≤ –í—ñ—Ç–∞–ª—ñ–π –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "–õ—É—á–∫–æ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–ú–∞—Ä—Ç–∏–Ω–µ–Ω–∫–æ –í–ª–∞–¥–∏—Å–ª–∞–≤ –Ü–≥–æ—Ä–æ–≤–∏—á", "–ú–∏—Ö–∞–π–ª–µ–Ω–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–ù–µ—Ñ–µ–¥–æ–≤–∞ –ö—Å–µ–Ω—ñ—è –Ñ–≤–≥–µ–Ω—ñ—ó–Ω–∞", "–ü–∞–ø–ª—ñ–Ω—Å—å–∫–∞ –Ü—Ä–∏–Ω–∞ –ü–µ—Ç—Ä—ñ–≤–Ω–∞", "–†—É–¥–∫–µ–≤–∏—á –û–ª—å–≥–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–°–µ—Ä–≤–µ—Ç–Ω—ñ–∫ –õ—ñ–ª—ñ—è –Ø—Ä–æ—Å–ª–∞–≤—ñ–≤–Ω–∞", "–£—Å–∞—Ç—é–∫ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –í–∞–¥–∏–º—ñ–≤–Ω–∞", "–•–æ–≤–∞–Ω–µ—Ü—å –ú–∞—Ä º—è–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ß–µ—Ä–Ω—É—Ö–∞ –°–æ—Ñ—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–®–ø–æ—Ä—Ç–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞"],
    "3–°–û–Ü": ["–ë–∞–±—ñ–π –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–î—ñ—Ö—Ç—è—Ä –í—ñ—Ç–∞–ª—ñ–π –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "–î–æ–≤–∂–æ–∫ –í—ñ–∫—Ç–æ—Ä –ü–µ—Ç—Ä–æ–≤–∏—á", "–ö–∞–∑–∞–Ω–æ–∫ –Ñ–≥–æ—Ä –ú–∏—Ö–∞–π–ª–æ–≤–∏—á", "–ú–∞–∫–æ–≤—ñ—Ü—å–∫–∏–π –û–ª–µ–∫—Å—ñ–π –õ–µ–æ–Ω—ñ–¥–æ–≤–∏—á", "–ü–∏—Å—å–º–µ–Ω–Ω–∏–π –°–µ—Ä–≥—ñ–π –í–∞—Å–∏–ª—å–æ–≤–∏—á", "–†–µ–ø–µ–π –ê–Ω–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–°—Ç–∞–Ω–∫–µ–≤–∏—á –û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–°—Ç—Ä–∞—Ç—ñ–π—á—É–∫ –Ü–≤–∞–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–®–∞—Ç–∫–æ–≤—Å—å–∫–∏–π –î–º–∏—Ç—Ä–æ –ü–µ—Ç—Ä–æ–≤–∏—á", "–®—É–º–∏–ª–æ –î–∞—Ä–∏–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞"],
    "3–°–û–§–ê": ["–ö–ª–∞–ø—É—â–∞–∫ –ë–æ–≥–¥–∞–Ω –í—ñ—Ç–∞–ª—ñ–π–æ–≤–∏—á", "–ü—Ä–∏—Å—è–∂–Ω—é–∫ –Ü–≤–∞–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°—Ç–∞—Å—é–∫ –í–∞–¥–∏–º –í–æ–ª—å–¥–µ–º–∞—Ä–æ–≤–∏—á", "–¢–µ—Ä–∞–∫—Ç –î–º–∏—Ç—Ä–æ –í–∞—Å–∏–ª—å–æ–≤–∏—á", "–•—ñ—Ö–ª–æ –Ü—Ä–∏–Ω–∞ –í–∞–ª–µ—Ä—ñ—ó–≤–Ω–∞"],
    "3–ú": ["–ë–∞—á–æ–∫ –ú–∏–∫–æ–ª–∞ –ü–µ—Ç—Ä–æ–≤–∏—á", "–ö–æ–±–µ—Ä–Ω–∏–∫ –Ü—Ä–∏–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ü–æ–ø—ñ–ª—å –Æ–ª—ñ–∞–Ω–∞ –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–°–µ–º–µ–Ω–µ—Ü—å –í–µ—Ä–æ–Ω—ñ–∫–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–¶–∏—Ä—É–ª—å–Ω—ñ–∫–æ–≤–∞ –ú–∞—Ä–∏–Ω–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞"],
    "4–°–û–ú": ["–ì–æ–ª–æ–≤–∞—Ç–∞ –ú–∞—Ä–∏–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", "–ì—Ä—ñ—â–µ–Ω–∫–æ –ê–Ω–¥—Ä—ñ–π –†—É—Å–ª–∞–Ω–æ–≤–∏—á", "–ö–ª—ñ—â –Æ–ª—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ú–∞—Ä—Ç–∏–Ω—é–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ú–∞—Ö–æ–≤—Å—å–∫–∞ –í—ñ–∫—Ç–æ—Ä—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ú–æ—Ü–Ω–∞ –ú–∞—Ä—ñ—è –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞", "–ú—Ä—É–≥ –î–∞—Ä—ñ—è –í–∞–ª–µ–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", "–ú—É–ª—è—Ä –ö–∞—Ä–∏–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ù–µ–≤—Ä—é—î–≤–∞ –î–∞—Ä'—è –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–ù–∏–∫–∏—Ç—é–∫ –Æ–ª—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ü–∞–≤–ª–æ–≤–∞ –í—ñ–∫—Ç–æ—Ä—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–°–µ–≤–∞—Å—Ç—å—è–Ω–æ–≤–∞ –ö–∞—Ä—ñ–Ω–∞ –û–ª–µ–≥—ñ–≤–Ω–∞", "–°—Ç—Ä—É–±—á–µ–≤—Å—å–∫–∞ –î–∞—Ä'—è –í—è—á–µ—Å–ª–∞–≤—ñ–≤–Ω–∞", "–¢—ñ–º–æ—â–µ–Ω–∫–æ –Ü—Ä–∏–Ω–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞", "–§–∞—à—Ç–∏–Ω—Å—å–∫–∞ –ú–∞—Ä—ñ—è –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–§—É—Ä–º–∞–Ω –ù–∞—Ç–∞–ª—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–•–æ–¥–∏–∫ –ê–ª—ñ–Ω–∞ –†–∞–¥—ñ–æ–Ω—ñ–≤–Ω–∞", "–®–≤–µ—Ü—å –ù–∞—Ç–∞–ª—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞"],
    "4–°–û–Ü": ["–ë–∞—Ä–∞–Ω–æ–≤—Å—å–∫–∏–π –ù—ñ–∫—ñ—Ç–∞ –Ø—Ä–æ—Å–ª–∞–≤–æ–≤–∏—á", "–í–∏—à–∫–æ–≤—Å—å–∫–∞ –í–µ—Ä–æ–Ω—ñ–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–í–æ–≥–Ω–∏–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–ó–æ–∑—É–ª—è –Æ–ª—ñ—è –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ö—Ä–∞—Å—ñ–ª–∏—á –ù–∞–∑–∞—Ä—ñ–π –Ñ–≤–≥–µ–Ω–æ–≤–∏—á", "–ú–∞–ª—å–æ–≤–∞–Ω–∏–π –í—ñ—Ç–∞–ª—ñ–π –í–∞–¥–∏–º–æ–≤–∏—á", "–ü–µ–ª–µ—à–æ–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–°–∞–≤—ñ–Ω–∞ –ö–∞—Ä–∏–Ω–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–°–æ—Ä–æ–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–¢–∞–±–∞—à–Ω—é–∫ –ö–∞—Ä—ñ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–®–∏–∫—ñ—Ä –¢–∞—Ä–∞—Å –†–æ–º–∞–Ω–æ–≤–∏—á"],
    "4–ú": ["–ö–∞—Ä–Ω–∞—É—â—É–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –û–ª–µ–≥—ñ–≤–Ω–∞", "–ö–æ—Ü—é–±–∞–Ω –î—ñ–∞–Ω–∞ –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ö–æ—Ü—é–±–∏–Ω—Å—å–∫–∞ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°–∞—ó–Ω—á—É–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –ü–∞–≤–ª—ñ–≤–Ω–∞", "–®–µ–ª—å–º–∞–Ω –õ—ñ–ª—ñ—è –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–Ø–∫–∏–º—á—É–∫ –ê–ª—ñ–Ω–∞ –Æ—Ä—ñ—ó–≤–Ω–∞"],
    "4–°–û–§–ê": ["–î–µ–ª—å–Ω–µ—Ü—å–∫–∏–π –Ü–≥–æ—Ä –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "–î–æ–≤–≥–∞–ª—å –ú–∞—Ä–∏–Ω–∞ –ì–µ–Ω–Ω–∞–¥—ñ—ó–≤–Ω–∞", "–ó–æ–∑—É–ª—è –°–æ—Ñ—ñ—è –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–ö–æ–≤–∞–ª–µ–Ω–∫–æ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ß–∞–ª–µ–Ω–∫–æ –û–ª—å–≥–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞"],
    "2–ú–°–û–ú": ["–í–æ—Ä–æ–∂–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –û–ª–µ–∫—Å—ñ—ó–≤–Ω–∞", "–ì–æ–Ω—á–∞—Ä –°–µ—Ä–≥—ñ–π –í—ñ—Ç–∞–ª—ñ–π–æ–≤–∏—á", "–î–∑—é–Ω—è–∫ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ó—ñ–Ω—è–∫ –Ü–≤–∞–Ω–Ω–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–Ü–≤–∞–Ω–æ–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–µ–±–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ö–æ–∑—è—Ä—á—É–∫ –ö–∞—Ç–µ—Ä–∏–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–õ–µ—â–µ–Ω–∫–æ –¢–µ—Ç—è–Ω–∞ –¢–∏–º—É—Ä—ñ–≤–Ω–∞", "–ú–∏—Ö–∞–π–ª—é—Ç–∞ –û–ª–µ–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–†—É—Ç–∫–µ–≤–∏—á –¢–µ—Ç—è–Ω–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–†—è–±—É—Ö–∞ –í–µ—Ä–æ–Ω—ñ–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°–∏–¥–æ—Ä–µ–Ω–∫–æ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–¢–∏—â–µ–Ω–∫–æ –Ø–Ω–∞ –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞", "–®—É—Ä–∏–Ω—è–∫ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –Ü–≥–æ—Ä–æ–≤–∏—á"],
    "2–ú–°–û–§–ê": ["–ë—É—Å–µ–ª –°–æ—Ñ—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ì—É–ª–∏—á –ù–∞—Ç–∞–ª—ñ—è –†—É—Å–ª–∞–Ω—ñ–≤–Ω–∞", "–ö—É–ª—å–ø–µ–∫—ñ–Ω –Ü–≥–æ—Ä –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–ú–∏—Ä–æ–Ω—é–∫ –ú–∞—Ä–∏–Ω–∞ –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞"],
    "2–ú–°–û–Ü": ["–ö–æ–ø—Ç—î–≤ –Ü–≤–∞–Ω –í–∞–ª–µ—Ä—ñ–π–æ–≤–∏—á", "–ö–æ—Å–µ–Ω—é–∫ –ú–∞—Ä–∫ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "–¢–∞—Å–∫–∞—î–≤ –î–º–∏—Ç—Ä–æ –õ–µ–æ–Ω—ñ–¥–æ–≤–∏—á", "–®–µ–≤—á—É–∫ –ü–∞–≤–ª–æ –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á"],
    "2–ú–ú": ["–ì—Ä–∏—Ü–µ–Ω–∫–æ –í–æ–ª–æ–¥–∏–º–∏—Ä –ë–æ—Ä–∏—Å–æ–≤–∏—á", "–î—ñ–¥—É—Å–µ–Ω–∫–æ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ö—ñ–∑—ñ–º –°—Ç–µ–ø–∞–Ω –í–∞–¥–∏–º–æ–≤–∏—á", "–ü—ñ–º–µ–Ω–æ–≤ –ê–Ω–¥—Ä—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ß–µ—Ä–Ω—ñ—î–Ω–∫–æ –ê—Ä—Ç–µ–º –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á"],
    "1–ú–°–û–Ü": ["–ê—Ñ–∞–Ω–∞—Å—å—î–≤ –î–º–∏—Ç—Ä–æ –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "–ë—Ä–∏–∂–∞–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –ê–Ω–∞—Ç–æ–ª—ñ–π–æ–≤–∏—á", "–í–∞–≤—à–∫–æ –í—ñ—Ç–∞–ª—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö—ñ–∑—ñ–º –°—Ç–µ–ø–∞–Ω –í–∞–¥–∏–º–æ–≤–∏—á", "–ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—á–∫–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–æ—Ä–æ–ª—å–æ–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ú—É–ª—è—Ä—á—É–∫ –°–µ—Ä–≥—ñ–π –ü–∞–≤–ª–æ–≤–∏—á", "–ù–∏–∫–∏—Ç—é–∫ –î—ñ–∞–Ω–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", "–†–∞–ø–ª—î–≤ –ê–Ω–¥—Ä—ñ–π –Ñ–≤–≥–µ–Ω–æ–≤–∏—á", "–®–µ–≤—á—É–∫ –Ñ–≤–≥–µ–Ω –Ü–≥–æ—Ä–æ–≤–∏—á"],
    "1–ú–ú": ["–ì–µ—Ç–º–∞–Ω—á—É–∫ –ê–Ω–Ω–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", "–ö—É—Ö—Ç–∞ –Ü–≤–∞–Ω–∫–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–°—Ç–µ—Å—é–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–í–æ—Ä–æ–±–µ—Ü—å –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–ö—É–ª—ñ—à –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞", "–õ–æ–≥–≤—ñ–Ω–µ–Ω–∫–æ –ì–∞–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–û–Ω–∏—â—É–∫ –û–ª–µ–∫—Å—ñ–π –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–Æ—Ä—á—É–∫ –î–∞—Ä–∏–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞"],
    "1–ú–°–û–ú": ["–ö–æ–º–∞—Ä–æ–≤–∞ –ö–∞—Ä—ñ–Ω–∞ –í–∞–¥–∏–º—ñ–≤–Ω–∞", "–ó–ª–æ—Ç–∫–æ–≤—Å—å–∫–∞ –ê–ª–ª–∞ –í—ñ–ª–µ–Ω—ñ–≤–Ω–∞", "–¢–∞—Ä–∞–Ω—é–∫ –ù–∞–¥—ñ—è –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–ö–∞–∑–º—ñ—Ä—á—É–∫ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–û—Å—Ç–∞–ø—á—É–∫ –î—ñ–∞–Ω–∞ –û–ª–µ–≥—ñ–≤–Ω–∞", "–ü–∞—à–∫—ñ–≤—Å—å–∫–∏–π –ë–æ–≥–¥–∞–Ω –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ú–∏—Ö–∞–π–ª—å–æ –õ—ñ–¥—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–¢–æ—Ä–∫–æ—Ç—é–∫ –Æ—Ä—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö–ª–∏–º—á—É–∫ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–î—è—á—É–∫ –Ñ–≥–æ—Ä –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–Ü—Å—å–∫–æ–≤ –Ü–≥–æ—Ä –í–∞–ª–µ—Ä—ñ–π–æ–≤–∏—á", "–ë—Ä–∏—Ü–æ–≤–∞ –Ü–ª–æ–Ω–∞ –ë–æ–≥–¥–∞–Ω—ñ–≤–Ω–∞", "–†–æ–º–∞–Ω—å–∫–æ –û–ª–µ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ë—ñ–ª–∞ –ö–∞—Ä–∏–Ω–∞ –†—É—Å–ª–∞–Ω—ñ–≤–Ω–∞", "–ê–Ω—Ç–æ—à–∫–æ –ú–∞—Ä–∏–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ –Ñ–ª–µ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ì—É—Ä–º–∞–Ω –ö–∞—Ç–µ—Ä–∏–Ω–∞ –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–î–æ–Ω—Å—å–∫–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ü–æ—à—Ç–∞—Ä—É–∫ –°–Ω—ñ–∂–∞–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ë–∞–π–¥–∞ –ö–∞—Ä—ñ–Ω–∞ –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ú–∞–º—á—É—Ä –ú–∏—Ä–æ—Å–ª–∞–≤–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–°–∞–ª–∫–µ–≤–∏—á –î–∞—Ä–∏–Ω–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞", "S–µ–º—á—É–∫ –û–ª–µ–≥ –í–∞—Å–∏–ª—å–æ–≤–∏—á"],
    "1–ú–°–û–§–ê": ["–ú—ñ—â–µ–Ω–∫–æ –í–ª–∞–¥–∏—Å–ª–∞–≤ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ñ—É—Ä–∂–∞ –ê—Ä—Ç–µ–º –ê—Ä—Å–µ–Ω–æ–≤–∏—á", "–ë–µ—Ä–µ–∂–Ω–∞ –†–µ–≥—ñ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–î–º–∏—Ç—Ä–µ–Ω–∫–æ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–î—Ä—ñ–º–∞ –í—ñ—Ç–∞–ª—ñ–π", "–û–ª–µ–∫—Å—ñ–π–∫–æ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á"]
}

# --- –î–ê–ù–Ü (–í–∏–∫–ª–∞–¥–∞—á—ñ) ---
TEACHERS_DATA = {
    "–ö–∞—Ñ–µ–¥—Ä–∞ –∞–ª–≥–µ–±—Ä–∏ —ñ –º–µ—Ç–æ–¥–∏–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏": [
        "–ö–æ–Ω–æ—à–µ–≤—Å—å–∫–∏–π –û–ª–µ–≥ –õ–µ–æ–Ω—ñ–¥–æ–≤–∏—á (–ó–∞–≤—ñ–¥—É–≤–∞—á –∫–∞—Ñ–µ–¥—Ä–∏)", "–ú–∞—Ç—è—à –û–ª—å–≥–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–ú–∏—Ö–∞–π–ª–µ–Ω–∫–æ –õ—é–±–æ–≤ –§–µ–¥–æ—Ä—ñ–≤–Ω–∞", "–í–æ—î–≤–æ–¥–∞ –ê–ª—ñ–Ω–∞ –õ–µ–æ–Ω—ñ–¥—ñ–≤–Ω–∞ (–î–µ–∫–∞–Ω —Ñ–∞–∫—É–ª—å—Ç–µ—Ç—É)",
        "–í–æ—Ç—è–∫–æ–≤–∞ –õ–µ—Å—è –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–ö–∞–ª–∞—à–Ω—ñ–∫–æ–≤ –Ü–≥–æ—Ä –í‚Äô—è—á–µ—Å–ª–∞–≤–æ–≤–∏—á", "–ù–∞–∫–æ–Ω–µ—á–Ω–∞ –õ—é–¥–º–∏–ª–∞ –ô–æ—Å–∏–ø—ñ–≤–Ω–∞", "–ü–∞–Ω–∞—Å–µ–Ω–∫–æ –û–ª–µ–∫—Å—ñ–π –ë–æ—Ä–∏—Å–æ–≤–∏—á (–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–µ–∫–∞–Ω–∞)",
        "–¢—é—Ç—é–Ω–Ω–∏–∫ –î—ñ–∞–Ω–∞ –û–ª–µ–≥—ñ–≤–Ω–∞", "–ö–æ–º–∞—Ä–æ–≤–∞ –ö–∞—Ä–∏–Ω–∞ –í–∞–¥–∏–º—ñ–≤–Ω–∞"
    ],
    "–ö–∞—Ñ–µ–¥—Ä–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏": [
        "–ö–æ–≤—Ç–æ–Ω—é–∫ –ú–∞—Ä'—è–Ω–∞ –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞ (–ó–∞–≤—ñ–¥—É–≤–∞—á –∫–∞—Ñ–µ–¥—Ä–∏)", "–ë–∞–∫ –°–µ—Ä–≥—ñ–π –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á (–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–µ–∫–∞–Ω–∞)", "–ö–ª–æ—á–∫–æ –û–∫—Å–∞–Ω–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞",
        "–ì—Ä–∞–Ω—è–∫ –í–∞–ª–µ—Ä—ñ–π –§–µ–¥–æ—Ä–æ–≤–∏—á", "–ö–æ–≤—Ç–æ–Ω—é–∫ –ì–∞–ª–∏–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ö–æ—Å–æ–≤–µ—Ü—å –û–ª–µ–Ω–∞ –ü–∞–≤–ª—ñ–≤–Ω–∞", "–ö—Ä—É–ø—Å—å–∫–∏–π –Ø—Ä–æ—Å–ª–∞–≤ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á",
        "–°–æ—è –û–ª–µ–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–¢—é—Ç—é–Ω –õ—é–±–æ–≤ –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–õ–µ–æ–Ω–æ–≤–∞ –Ü–≤–∞–Ω–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ü–æ–ª—ñ—â—É–∫ –í—ñ—Ç–∞–ª—ñ–π –û–ª–µ–≥–æ–≤–∏—á", "–Ø—Ä–æ—à –û–∫—Å–∞–Ω–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞"
    ],
    "–ö–∞—Ñ–µ–¥—Ä–∞ —Ñ—ñ–∑–∏–∫–∏ —ñ –º–µ—Ç–æ–¥–∏–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ—ñ–∑–∏–∫–∏, –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—ó": [
        "–°—ñ–ª—å–≤–µ–π—Å—Ç—Ä –ê–Ω–∞—Ç–æ–ª—ñ–π –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á (–ó–∞–≤—ñ–¥—É–≤–∞—á –∫–∞—Ñ–µ–¥—Ä–∏)", "–ó–∞–±–æ–ª–æ—Ç–Ω–∏–π –í–æ–ª–æ–¥–∏–º–∏—Ä –§–µ–¥–æ—Ä–æ–≤–∏—á", "–ë—ñ–ª—é–∫ –ê–Ω–∞—Ç–æ–ª—ñ–π –Ü–≤–∞–Ω–æ–≤–∏—á",
        "–î—É–º–µ–Ω–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –ü–µ—Ç—Ä—ñ–≤–Ω–∞", "–ú–æ–∫–ª—é–∫ –ú–∏–∫–æ–ª–∞ –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ö—Å–µ–Ω–¥–∑–æ–≤–∞ –û–∫—Å–∞–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ú–∞–º—ñ—á–µ–≤–∞ –Ü–Ω–Ω–∞ –û–ª–µ–∫—Å—ñ—ó–≤–Ω–∞",
        "–ú–æ—Ä–æ–∑ –Ø—Ä–æ—Å–ª–∞–≤ –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–°—ñ–≤–∞—î–≤–∞ –ù–∞—Ç–∞–ª—ñ—è –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–ñ—É—Ä–∂–∞ –ê—Ä—Ç–µ–º –ê—Ä—Å–µ–Ω–æ–≤–∏—á"
    ]
}

# --- BACKEND ---
def make_hashes(password):
    return hashlib.sha256(str.encode(password)).hexdigest()

def check_hashes(password, hashed_text):
    if make_hashes(password) == hashed_text: return True
    return False

def create_connection():
    return sqlite3.connect('university_v22.db', check_same_thread=False)

def init_db():
    conn = create_connection()
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS users(username TEXT PRIMARY KEY, password TEXT, role TEXT, full_name TEXT, group_link TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS students(id INTEGER PRIMARY KEY AUTOINCREMENT, full_name TEXT, group_name TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS schedule(id INTEGER PRIMARY KEY AUTOINCREMENT, group_name TEXT, day TEXT, time TEXT, subject TEXT, teacher TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS documents(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, student_name TEXT, status TEXT, date TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS file_storage(id INTEGER PRIMARY KEY AUTOINCREMENT, filename TEXT, file_content BLOB, upload_date TEXT, uploader TEXT, subject TEXT, description TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS grades(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, group_name TEXT, subject TEXT, type_of_work TEXT, grade INTEGER, date TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS attendance(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, group_name TEXT, subject TEXT, date_column TEXT, status TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS news(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, message TEXT, author TEXT, date TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS dormitory(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, room_number TEXT, payment_status TEXT, comments TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS scholarship(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, type TEXT, amount INTEGER, status TEXT, date_assigned TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS system_logs(id INTEGER PRIMARY KEY AUTOINCREMENT, user TEXT, action TEXT, details TEXT, timestamp TEXT)''')
    
    # --- –¢–ê–ë–õ–ò–¶–Ü –î–õ–Ø –ê–ù–ö–ï–¢–ò –¢–ê –ö–û–ù–¢–†–ê–ö–¢–Ü–í ---
    c.execute('''CREATE TABLE IF NOT EXISTS student_education_info(
        student_name TEXT PRIMARY KEY,
        status TEXT, study_form TEXT, course INTEGER, is_contract TEXT,
        faculty TEXT, specialty TEXT, edu_program TEXT,
        referral_type TEXT, enterprise TEXT,
        enroll_protocol_num TEXT, enroll_order_num TEXT, enroll_condition TEXT,
        enroll_protocol_date TEXT, enroll_order_date TEXT, enroll_date TEXT,
        grad_order_num TEXT, grad_order_date TEXT, grad_date TEXT,
        student_id_card TEXT, gradebook_id TEXT, library_card TEXT,
        curator TEXT, last_modified TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS student_prev_education(
        student_name TEXT PRIMARY KEY,
        institution_name TEXT, institution_type TEXT,
        diploma_type TEXT, diploma_series TEXT, diploma_number TEXT,
        diploma_grades_summary TEXT, foreign_languages TEXT,
        last_modified TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS academic_certificates(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        student_name TEXT, cert_number TEXT, issue_date TEXT,
        source_institution TEXT, notes TEXT,
        added_by TEXT, added_date TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS individual_statements(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        student_name TEXT, subject TEXT, statement_type TEXT,
        reason TEXT, date_issued TEXT, status TEXT,
        created_by TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS student_contracts(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        student_name TEXT,
        contract_number TEXT,
        date_signed TEXT,
        end_date TEXT,
        total_amount REAL,
        paid_amount REAL,
        payment_status TEXT,
        notes TEXT
    )''')

    # --- –¢–ê–ë–õ–ò–¶–Ø: –ï–ö–ó–ê–ú–ï–ù–ê–¶–Ü–ô–ù–Ü –í–Ü–î–û–ú–û–°–¢–Ü ---
    c.execute('''CREATE TABLE IF NOT EXISTS exam_sheets(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        sheet_number TEXT,
        group_name TEXT,
        subject TEXT,
        control_type TEXT,
        exam_date TEXT,
        examiner TEXT,
        status TEXT
    )''')

    conn.commit()

    c.execute('SELECT count(*) FROM students')
    if c.fetchone()[0] == 0:
        c.execute('INSERT OR IGNORE INTO users VALUES (?,?,?,?,?)', ('admin', make_hashes('admin'), 'admin', '–ì–æ–ª–æ–≤–Ω–∏–π –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä', ''))
        for group, names in GROUPS_DATA.items():
            for name in names:
                clean_name = name.lstrip("0123456789. ")
                c.execute('INSERT INTO students (full_name, group_name) VALUES (?,?)', (clean_name, group))
        conn.commit()
    return conn

def log_action(user, action, details):
    conn = create_connection()
    ts = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    conn.execute("INSERT INTO system_logs (user, action, details, timestamp) VALUES (?,?,?,?)", (user, action, details, ts))
    conn.commit()

def convert_df_to_csv(df):
    return df.to_csv(index=False).encode('utf-8-sig')

# --- –°–¢–û–†–Ü–ù–ö–ò ---

def login_register_page():
    st.header("üîê –í—Ö—ñ–¥ / –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—è)")
    action = st.radio("–û–±–µ—Ä—ñ—Ç—å –¥—ñ—é:", ["–í—Ö—ñ–¥", "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è"], horizontal=True)
    conn = create_connection()
    c = conn.cursor()

    # –°–ø–∏—Å–æ–∫ –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö —Ä–æ–ª–µ–π –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –≤—Ö–æ–¥—É
    ALLOWED_STAFF = ["admin", "dean"]

    if action == "–í—Ö—ñ–¥":
        username = st.text_input("–õ–æ–≥—ñ–Ω")
        password = st.text_input("–ü–∞—Ä–æ–ª—å", type='password')
        if st.button("–£–≤—ñ–π—Ç–∏"):
            c.execute('SELECT * FROM users WHERE username=? AND password=?', (username, make_hashes(password)))
            user = c.fetchone()
            if user:
                # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: –≤—Ö—ñ–¥ –¥–æ–∑–≤–æ–ª–µ–Ω–æ –¢–Ü–õ–¨–ö–ò –¥–ª—è admin —Ç–∞ dean
                if user[2] not in ALLOWED_STAFF:
                    st.error("–î–æ—Å—Ç—É–ø –æ–±–º–µ–∂–µ–Ω–æ. –¢—ñ–ª—å–∫–∏ –¥–ª—è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∞–±–æ –î–µ–∫–∞–Ω–∞.")
                else:
                    st.session_state['logged_in'] = True
                    st.session_state['username'] = user[0]
                    st.session_state['role'] = user[2]
                    st.session_state['full_name'] = user[3]
                    st.session_state['group'] = user[4]
                    log_action(user[3], "Login", f"–í—Ö—ñ–¥ —Å–∏—Å—Ç–µ–º–∏: {user[2]}")
                    st.success(f"–í—ñ—Ç–∞—î–º–æ, {user[3]}!")
                    st.rerun()
            else:
                st.error("–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å")

    elif action == "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è":
        st.info("–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏—à–µ –¥–ª—è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –î–µ–∫–∞–Ω–∞—Ç—É.")
        new_user = st.text_input("–í–∏–≥–∞–¥–∞–π—Ç–µ –ª–æ–≥—ñ–Ω")
        new_pass = st.text_input("–í–∏–≥–∞–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å", type='password')
        
        # –û–±–º–µ–∂–µ–Ω–∏–π –≤–∏–±—ñ—Ä —Ä–æ–ª–µ–π
        role = st.selectbox("–í–∞—à–∞ –ø–æ—Å–∞–¥–∞", ALLOWED_STAFF)
        
        full_name = st.text_input("–í–∞—à–µ –ü–Ü–ë (–ø–æ–≤–Ω—ñ—Å—Ç—é)")
        group_link = "Staff/Admin"

        if st.button("–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è"):
            if new_user and new_pass and full_name:
                try:
                    c.execute('INSERT INTO users VALUES (?,?,?,?,?)', 
                              (new_user, make_hashes(new_pass), role, full_name, group_link))
                    conn.commit()
                    log_action(full_name, "Registration", f"–ù–æ–≤–∏–π –∑–∞–ø–∏—Å: {role}")
                    st.success("–û–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ! –¢–µ–ø–µ—Ä —É–≤—ñ–π–¥—ñ—Ç—å —É –≤–∫–ª–∞–¥—Ü—ñ '–í—Ö—ñ–¥'.")
                except sqlite3.IntegrityError:
                    st.error("–¶–µ–π –ª–æ–≥—ñ–Ω –≤–∂–µ –∑–∞–π–Ω—è—Ç–∏–π.")
            else:
                st.warning("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è.")

def main_panel():
    st.title("üè† –ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å LMS")
    st.markdown(f"### –í—ñ—Ç–∞—î–º–æ, {st.session_state['full_name']}!")
    conn = create_connection()
    
    st.divider()
    st.subheader("üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞")
    kpi1, kpi2, kpi3 = st.columns(3)
    
    total_students = pd.read_sql_query("SELECT count(*) FROM students", conn).iloc[0,0]
    kpi1.metric("–í—Å—å–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤", total_students)

    file_count = pd.read_sql_query("SELECT count(*) FROM file_storage", conn).iloc[0,0]
    kpi2.metric("–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤", file_count)

    avg_q = "SELECT avg(grade) FROM grades"
    avg_val = pd.read_sql_query(avg_q, conn).iloc[0,0]
    avg_val = round(avg_val, 1) if avg_val else 0
    kpi3.metric("–°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª (–∑–∞–≥–∞–ª—å–Ω–∏–π)", avg_val)

    col_chart1, col_chart2 = st.columns(2)
    with col_chart1:
        st.markdown("**üìà –£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å (–°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞—Ö)**")
        query_chart = "SELECT subject, avg(grade) as avg_grade FROM grades GROUP BY subject"
        df_chart = pd.read_sql_query(query_chart, conn)
        if not df_chart.empty: st.bar_chart(df_chart.set_index('subject'))
        else: st.info("–î–∞–Ω—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ.")

    with col_chart2:
        st.markdown("**üìâ –í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—ñ—Å—Ç—å (–ó–∞–≥–∞–ª—å–Ω–∞)**")
        df_att = pd.read_sql_query("SELECT status FROM attendance", conn)
        if not df_att.empty:
            absent_count = df_att[df_att['status'] != ''].shape[0] 
            present_count = df_att[df_att['status'] == ''].shape[0] 
            att_data = pd.DataFrame({'–°—Ç–∞—Ç—É—Å': ['–ü—Ä–∏—Å—É—Ç–Ω—ñ–π', '–í—ñ–¥—Å—É—Ç–Ω—ñ–π'], '–ö—ñ–ª—å–∫—ñ—Å—Ç—å': [present_count, absent_count]})
            base = alt.Chart(att_data).encode(theta=alt.Theta("–ö—ñ–ª—å–∫—ñ—Å—Ç—å", stack=True))
            pie = base.mark_arc(outerRadius=120).encode(color=alt.Color("–°—Ç–∞—Ç—É—Å"), tooltip=["–°—Ç–∞—Ç—É—Å", "–ö—ñ–ª—å–∫—ñ—Å—Ç—å"])
            st.altair_chart(pie, use_container_width=True)
        else: st.info("–î–∞–Ω—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ.")

    st.divider()
    st.subheader("üì¢ –û–≥–æ–ª–æ—à–µ–Ω–Ω—è")
    if st.session_state['role'] in TEACHER_LEVEL:
        with st.expander("üìù –î–æ–¥–∞—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è"):
            with st.form("news_form"):
                n_title = st.text_input("–ó–∞–≥–æ–ª–æ–≤–æ–∫")
                n_msg = st.text_area("–¢–µ–∫—Å—Ç")
                if st.form_submit_button("–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏"):
                    date_pub = datetime.now().strftime("%Y-%m-%d %H:%M")
                    conn.execute("INSERT INTO news (title, message, author, date) VALUES (?,?,?,?)", (n_title, n_msg, st.session_state['full_name'], date_pub))
                    conn.commit()
                    st.success("–û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ!")
                    st.rerun()

    news_df = pd.read_sql_query("SELECT title, message, author, date FROM news ORDER BY id DESC", conn)
    for i, row in news_df.iterrows():
        with st.container(border=True):
            st.markdown(f"### {row['title']}")
            st.write(row['message'])
            st.caption(f"üóìÔ∏è {row['date']} | ‚úçÔ∏è {row['author']}")

def students_groups_view():
    st.title("üë• –°—Ç—É–¥–µ–Ω—Ç–∏ —Ç–∞ –ì—Ä—É–ø–∏")
    conn = create_connection()
    all_groups = ["–í—Å—ñ"] + list(GROUPS_DATA.keys())
    selected_group = st.selectbox("–§—ñ–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø—ñ:", all_groups)
    query = "SELECT id, full_name as '–ü–Ü–ë', group_name as '–ì—Ä—É–ø–∞' FROM students"
    if selected_group != "–í—Å—ñ": query += f" WHERE group_name='{selected_group}'"
    df = pd.read_sql_query(query, conn)
    st.dataframe(df, use_container_width=True)
    
    if st.session_state['role'] in DEAN_LEVEL:
        st.divider()
        st.subheader("üõ†Ô∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏")
        with st.form("add_s"):
            nm = st.text_input("–ü–Ü–ë")
            gr = st.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()))
            if st.form_submit_button("–î–æ–¥–∞—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞"):
                conn.execute('INSERT INTO students (full_name, group_name) VALUES (?,?)', (nm, gr))
                conn.commit()
                st.success("–î–æ–¥–∞–Ω–æ!")
                st.rerun()

def teachers_view():
    st.title("üë®‚Äçüè´ –í–∏–∫–ª–∞–¥–∞—á—ñ —Ç–∞ –ö–∞—Ñ–µ–¥—Ä–∏")
    for dept, teachers in TEACHERS_DATA.items():
        with st.expander(f"üìö {dept}"):
            for t in teachers: st.write(f"- {t}")

def schedule_view():
    st.title("üìÖ –†–æ–∑–∫–ª–∞–¥")
    conn = create_connection()
    grp = st.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()))
    df = pd.read_sql_query(f"SELECT day, time, subject, teacher FROM schedule WHERE group_name='{grp}'", conn)
    if not df.empty: st.table(df)
    else: st.info("–†–æ–∑–∫–ª–∞–¥ –ø–æ—Ä–æ–∂–Ω—ñ–π.")
    
    if st.session_state['role'] in DEAN_LEVEL:
        with st.form("sch"):
            d = st.selectbox("–î–µ–Ω—å", ["–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", "–í—ñ–≤—Ç–æ—Ä–æ–∫", "–°–µ—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä", "–ü'—è—Ç–Ω–∏—Ü—è"])
            t = st.selectbox("–ß–∞—Å", ["08:30", "10:10", "11:50", "13:30"])
            s = st.text_input("–ü—Ä–µ–¥–º–µ—Ç")
            tch = st.text_input("–í–∏–∫–ª–∞–¥–∞—á")
            if st.form_submit_button("–î–æ–¥–∞—Ç–∏ –≤ —Ä–æ–∑–∫–ª–∞–¥"):
                conn.execute("INSERT INTO schedule (group_name, day, time, subject, teacher) VALUES (?,?,?,?,?)", (grp, d, t, s, tch))
                conn.commit()
                st.rerun()

def gradebook_view():
    st.title("üíØ –ñ—É—Ä–Ω–∞–ª –û—Ü—ñ–Ω–æ–∫")
    conn = create_connection()
    c = conn.cursor()
    grp = st.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()))
    subj = st.selectbox("–ü—Ä–µ–¥–º–µ—Ç", SUBJECTS_LIST)
    
    with st.expander("‚ûï –î–æ–¥–∞—Ç–∏ –∫–æ–ª–æ–Ω–∫—É (–†–æ–±–æ—Ç–∞/–¢–µ—Å—Ç)"):
        with st.form("new_col"):
            nm = st.text_input("–ù–∞–∑–≤–∞")
            dt = st.date_input("–î–∞—Ç–∞")
            if st.form_submit_button("–°—Ç–≤–æ—Ä–∏—Ç–∏"):
                stds = pd.read_sql(f"SELECT full_name FROM students WHERE group_name='{grp}'", conn)['full_name'].tolist()
                for s in stds:
                    c.execute("INSERT INTO grades (student_name, group_name, subject, type_of_work, grade, date) VALUES (?,?,?,?,?,?)", (s, grp, subj, nm, 0, str(dt)))
                conn.commit()
                st.rerun()
                
    raw = pd.read_sql(f"SELECT student_name, type_of_work, grade FROM grades WHERE group_name='{grp}' AND subject='{subj}'", conn)
    if not raw.empty:
        matrix = raw.pivot_table(index='student_name', columns='type_of_work', values='grade', aggfunc='first').fillna(0)
        edited = st.data_editor(matrix, use_container_width=True)
        if st.button("–ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏ –≤ –∂—É—Ä–Ω–∞–ª—ñ"):
            for s_name, row in edited.iterrows():
                for w_name, val in row.items():
                    c.execute("UPDATE grades SET grade=? WHERE student_name=? AND subject=? AND type_of_work=?", (val, s_name, subj, w_name))
            conn.commit()
            st.success("–û–Ω–æ–≤–ª–µ–Ω–æ!")
    else: st.info("–ö–æ–ª–æ–Ω–∫–∏ —â–µ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ.")

def attendance_view():
    st.title("üìù –ñ—É—Ä–Ω–∞–ª –í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ")
    conn = create_connection()
    grp = st.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()), key="att_grp")
    subj = st.selectbox("–ü—Ä–µ–¥–º–µ—Ç", SUBJECTS_LIST, key="att_sbj")
    
    with st.expander("‚ûï –î–æ–¥–∞—Ç–∏ –¥–∞—Ç—É"):
        with st.form("new_att_col"):
            col_name = st.text_input("–î–∞—Ç–∞ (–Ω–∞–ø—Ä. 24.12)")
            if st.form_submit_button("–°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∞—Ç—É"):
                stds = pd.read_sql(f"SELECT full_name FROM students WHERE group_name='{grp}'", conn)['full_name'].tolist()
                for s in stds:
                    conn.execute("INSERT INTO attendance (student_name, group_name, subject, date_column, status) VALUES (?,?,?,?,?)", (s, grp, subj, col_name, "")) 
                conn.commit()
                st.rerun()
                
    raw = pd.read_sql(f"SELECT student_name, date_column, status FROM attendance WHERE group_name='{grp}' AND subject='{subj}'", conn)
    if not raw.empty:
        matrix = raw.pivot_table(index='student_name', columns='date_column', values='status', aggfunc='first').fillna("")
        edited = st.data_editor(matrix, use_container_width=True)
        if st.button("üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—ñ—Å—Ç—å"):
            for s_name, row in edited.iterrows():
                for d_col, val in row.items():
                    conn.execute("UPDATE attendance SET status=? WHERE student_name=? AND subject=? AND date_column=?", (val, s_name, subj, d_col))
            conn.commit()
            st.success("–ó–±–µ—Ä–µ–∂–µ–Ω–æ!")

def documents_view():
    st.title("üìÇ –î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±—ñ–≥")
    conn = create_connection()
    tabs = st.tabs(["üìÇ –†–µ—î—Å—Ç—Ä –∑–∞–ø–∏—Ç—ñ–≤", "‚öôÔ∏è –û–±—Ä–æ–±–∫–∞"])
    
    with tabs[0]:
        df_docs = pd.read_sql("SELECT * FROM documents ORDER BY id DESC", conn)
        st.dataframe(df_docs, use_container_width=True)
        
    with tabs[1]:
        pending = pd.read_sql("SELECT * FROM documents WHERE status='–û—á—ñ–∫—É—î'", conn)
        if not pending.empty:
            req_id = st.selectbox("–û–±–µ—Ä—ñ—Ç—å ID –¥–ª—è –æ–±—Ä–æ–±–∫–∏", pending['id'].tolist())
            new_stat = st.selectbox("–†—ñ—à–µ–Ω–Ω—è", ["–ì–æ—Ç–æ–≤–æ", "–í—ñ–¥—Ö–∏–ª–µ–Ω–æ", "–í —Ä–æ–±–æ—Ç—ñ"])
            comm = st.text_input("–ö–æ–º–µ–Ω—Ç–∞—Ä")
            if st.button("–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏"):
                stat_text = f"{new_stat} ({comm})" if comm else new_stat
                conn.execute("UPDATE documents SET status=? WHERE id=?", (stat_text, req_id))
                conn.commit()
                st.rerun()
        else: st.success("–ó–∞–ø–∏—Ç—ñ–≤ –Ω–µ–º–∞—î.")

def file_repository_view():
    st.title("üóÑÔ∏è –§–∞–π–ª–æ–≤–∏–π –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π")
    conn = create_connection()
    with st.expander("üì§ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª"):
        uploaded_file = st.file_uploader("–û–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª")
        f_subject = st.selectbox("–ü—Ä–µ–¥–º–µ—Ç", SUBJECTS_LIST)
        f_desc = st.text_input("–û–ø–∏—Å")
        if st.button("–ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–∞–π–ª"):
            if uploaded_file:
                conn.execute("INSERT INTO file_storage (filename, file_content, upload_date, uploader, subject, description) VALUES (?,?,?,?,?,?)",
                             (uploaded_file.name, uploaded_file.read(), datetime.now().strftime("%Y-%m-%d"), st.session_state['full_name'], f_subject, f_desc))
                conn.commit()
                st.success("–§–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ!")
                st.rerun()

    df_files = pd.read_sql("SELECT id, filename, subject, description, uploader FROM file_storage", conn)
    st.dataframe(df_files, use_container_width=True)

def reports_view():
    st.title("üìä –ó–≤—ñ—Ç–∏")
    conn = create_connection()
    all_students = pd.read_sql("SELECT full_name FROM students", conn)
    sel_st = st.selectbox("–ö–∞—Ä—Ç–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞", all_students['full_name'].tolist())
    
    st.subheader(f"–£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å: {sel_st}")
    grades = pd.read_sql(f"SELECT subject, grade, date FROM grades WHERE student_name='{sel_st}'", conn)
    st.dataframe(grades, use_container_width=True)

def deanery_modules_view():
    st.title("–ú–æ–¥—É–ª—ñ –î–µ–∫–∞–Ω–∞—Ç—É")
    tab1, tab2, tab3 = st.tabs(["üõèÔ∏è –ì—É—Ä—Ç–æ–∂–∏—Ç–æ–∫", "üí∞ –°—Ç–∏–ø–µ–Ω–¥—ñ—è", "üìÑ –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∏"])
    conn = create_connection()
    
    with tab1:
        dorm_df = pd.read_sql("SELECT * FROM dormitory", conn)
        st.dataframe(dorm_df, use_container_width=True)
        
    with tab2:
        sch_df = pd.read_sql("SELECT * FROM scholarship", conn)
        st.dataframe(sch_df, use_container_width=True)
        
    with tab3:
        con_df = pd.read_sql("SELECT * FROM student_contracts", conn)
        st.dataframe(con_df, use_container_width=True)

def session_module_view():
    st.title("–°–µ—Å—ñ—è —Ç–∞ –†—É—Ö")
    conn = create_connection()
    st.subheader("–ï–∫–∑–∞–º–µ–Ω–∞—Ü—ñ–π–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ")
    sheets = pd.read_sql("SELECT * FROM exam_sheets", conn)
    st.dataframe(sheets, use_container_width=True)

def system_settings_view():
    st.title("–°–∏—Å—Ç–µ–º–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è")
    conn = create_connection()
    logs = pd.read_sql("SELECT * FROM system_logs ORDER BY id DESC LIMIT 100", conn)
    st.dataframe(logs, use_container_width=True)

def main():
    init_db()
    if 'logged_in' not in st.session_state:
        st.session_state['logged_in'] = False
        st.session_state['role'] = None
        st.session_state['full_name'] = ""

    if not st.session_state['logged_in']:
        login_register_page()
    else:
        st.sidebar.title(f"üë§ {st.session_state['full_name']}")
        st.sidebar.caption(f"–†–æ–ª—å: {st.session_state['role'].upper()}")
        
        if st.sidebar.button("–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É üåì"):
            toggle_theme()
            st.rerun()
            
        st.sidebar.divider()
        
        menu_options = {
            "–ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å": main_panel,
            "–°—Ç—É–¥–µ–Ω—Ç–∏ —Ç–∞ –ì—Ä—É–ø–∏": students_groups_view,
            "–í–∏–∫–ª–∞–¥–∞—á—ñ —Ç–∞ –ö–∞—Ñ–µ–¥—Ä–∏": teachers_view,
            "–†–æ–∑–∫–ª–∞–¥ –∑–∞–Ω—è—Ç—å": schedule_view,
            "–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π –∂—É—Ä–Ω–∞–ª": gradebook_view,
            "–ñ—É—Ä–Ω–∞–ª –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ": attendance_view,
            "–ó–≤—ñ—Ç–∏ —Ç–∞ –ü–æ—à—É–∫": reports_view,
            "–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±—ñ–≥": documents_view,
            "–§–∞–π–ª–æ–≤–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π": file_repository_view
        }
        
        # –î–æ–¥–∞—î–º–æ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –º–µ–Ω—é –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤ —Ç–∞ –¥–µ–∫–∞–Ω—ñ–≤
        if st.session_state['role'] in DEAN_LEVEL:
            menu_options["–ú–æ–¥—É–ª—ñ –î–µ–∫–∞–Ω–∞—Ç—É"] = deanery_modules_view
            menu_options["–°–µ—Å—ñ—è —Ç–∞ –†—É—Ö"] = session_module_view 
        
        if st.session_state['role'] == 'admin':
            menu_options["–°–∏—Å—Ç–µ–º–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"] = system_settings_view

        selection = st.sidebar.radio("–ù–∞–≤—ñ–≥–∞—Ü—ñ—è", list(menu_options.keys()))
        menu_options[selection]()
        
        st.sidebar.divider()
        if st.sidebar.button("–í–∏–π—Ç–∏ üö™"):
            st.session_state['logged_in'] = False
            st.rerun()

if __name__ == '__main__':
    main()
